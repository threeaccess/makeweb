<!DOCTYPE html>
<html lang="en" data-theme="modern" data-page-type="content">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Add to Notes</title>
  
  <!-- Fallback styles for graceful degradation -->
  <style>
    :root { --fb-bg: #faf9f7; --fb-text: #1a1a1a; }
    [data-theme="dark"] { --fb-bg: #0a0a0b; --fb-text: #fafafa; }
    body { font-family: system-ui, -apple-system, sans-serif; background: var(--fb-bg); color: var(--fb-text); line-height: 1.6; margin: 0; padding: 20px; }
    .container { max-width: 860px; margin: 0 auto; }
    a { color: #6366f1; }
    pre { background: #1a1a2e; color: #f8f8f2; padding: 16px; border-radius: 8px; overflow-x: auto; }
    code { background: #f5f3f0; padding: 2px 6px; border-radius: 4px; }
  </style>
  
  <!-- Primary stylesheets -->
  <link rel="stylesheet" href="file:///Users/amirakbari/notes/styles/core.css">
  <link rel="stylesheet" href="file:///Users/amirakbari/notes/styles/theme-modern.css">
  <link rel="stylesheet" href="file:///Users/amirakbari/notes/styles/content.css">
</head>
<body>
  <div class="container">
    <!-- Navigation back to index -->
    <nav class="page-nav">
      <a href="file:///Users/amirakbari/notes/index.html">Notes Index</a>
    </nav>
    
    <!-- Header Card -->
    <div class="header-wrapper">
      <div class="header-card">
        <div class="header-accent-bar"></div>
        <div class="header-content">
          <div class="header-title-group">
            <div class="header-badge">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14 2 14 8 20 8"/>
                <line x1="16" y1="13" x2="8" y2="13"/>
                <line x1="16" y1="17" x2="8" y2="17"/>
                <polyline points="10 9 9 9 8 9"/>
              </svg>
              Documentation
            </div>
            <h1 class="gradient-title">Add to Notes</h1>
            <p class="subtitle">Generated by Make Web</p>
          </div>
          
          <!-- Theme Toggle -->
          <div class="theme-toggle" role="group" aria-label="Theme toggle">
            <button class="theme-btn active" data-theme="light" aria-label="Light mode" title="Light mode">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="5"/>
                <line x1="12" y1="1" x2="12" y2="3"/>
                <line x1="12" y1="21" x2="12" y2="23"/>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                <line x1="1" y1="12" x2="3" y2="12"/>
                <line x1="21" y1="12" x2="23" y2="12"/>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
              </svg>
            </button>
            <button class="theme-btn" data-theme="dark" aria-label="Dark mode" title="Dark mode">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Table of Contents -->
    <div class="toc-wrapper">
      <div class="toc-card">
        <div class="toc-header">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="8" y1="6" x2="21" y2="6"/>
            <line x1="8" y1="12" x2="21" y2="12"/>
            <line x1="8" y1="18" x2="21" y2="18"/>
            <line x1="3" y1="6" x2="3.01" y2="6"/>
            <line x1="3" y1="12" x2="3.01" y2="12"/>
            <line x1="3" y1="18" x2="3.01" y2="18"/>
          </svg>
          <span class="toc-title">Table of Contents</span>
        </div>
        <div class="toc"><div class="toc">
<ul>
<li><a href="#add-to-notes">Add to Notes</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#files-created">Files Created</a><ul>
<li><a href="#in-tools">In ~/tools/</a></li>
<li><a href="#in-notes">In ~/notes/</a></li>
</ul>
</li>
<li><a href="#installation">Installation</a></li>
<li><a href="#usage">Usage</a><ul>
<li><a href="#add-a-document">Add a document</a></li>
<li><a href="#list-all-documents">List all documents</a></li>
<li><a href="#remove-a-document">Remove a document</a></li>
<li><a href="#regenerate-index">Regenerate index</a></li>
</ul>
</li>
<li><a href="#typical-workflow">Typical Workflow</a></li>
<li><a href="#data-format">Data Format</a><ul>
<li><a href="#notesjson">notes.json</a></li>
</ul>
</li>
<li><a href="#how-it-works">How It Works</a></li>
<li><a href="#styling">Styling</a></li>
<li><a href="#limitations">Limitations</a></li>
<li><a href="#tips">Tips</a></li>
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#related-tools">Related Tools</a></li>
</ul>
</li>
</ul>
</div>
</div>
      </div>
    </div>
    
    <!-- Main Content -->
    <div class="content-wrapper">
      <main>
        <article><h1 id="add-to-notes">Add to Notes</h1>
<p>A companion tool to <code>make-web</code> that maintains a central index of all your HTML documents, regardless of where they're stored on your filesystem.</p>
<h2 id="overview">Overview</h2>
<p>When you convert Markdown files to HTML using <code>make-web</code>, those HTML files can end up scattered across different directories. <strong>Add to Notes</strong> solves this by maintaining a JSON registry that tracks all your documents and generates a styled index page with links to each one.</p>
<p><strong>Key concept:</strong> Documents stay where they areâ€”only their metadata (title, path, date) is stored in the registry. The index page links to files using <code>file://</code> URLs.</p>
<h2 id="files-created">Files Created</h2>
<h3 id="in-tools">In <code>~/tools/</code></h3>
<table>
<thead>
<tr>
<th>File</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>add2notes.py</code></td>
<td>Main Python script containing all logic</td>
</tr>
<tr>
<td><code>add2notes</code></td>
<td>Bash wrapper for easy command-line use</td>
</tr>
</tbody>
</table>
<h3 id="in-notes">In <code>~/notes/</code></h3>
<table>
<thead>
<tr>
<th>File</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>notes.json</code></td>
<td>JSON registry storing title, absolute path, and timestamp for each document</td>
</tr>
<tr>
<td><code>index.html</code></td>
<td>Auto-generated index page with a table of all registered documents</td>
</tr>
</tbody>
</table>
<h2 id="installation">Installation</h2>
<p>The tool is already installed in <code>~/tools/</code>. To use it from anywhere, either:</p>
<ol>
<li>
<p><strong>Use the full path:</strong>
   <code>bash
   ~/tools/add2notes add document.html</code></p>
</li>
<li>
<p><strong>Add to PATH</strong> (add to <code>~/.zshrc</code> or <code>~/.bashrc</code>):
   <code>bash
   export PATH="$HOME/tools:$PATH"</code></p>
</li>
</ol>
<h2 id="usage">Usage</h2>
<h3 id="add-a-document">Add a document</h3>
<pre class="codehilite"><code class="language-bash"># Basic usage - title extracted from HTML &lt;title&gt; tag
add2notes add /path/to/document.html

# With custom title
add2notes add /path/to/document.html -t &quot;My Custom Title&quot;

# Shorthand (no subcommand needed)
add2notes /path/to/document.html
</code></pre>

<h3 id="list-all-documents">List all documents</h3>
<pre class="codehilite"><code class="language-bash">add2notes list
</code></pre>

<p>Output:</p>
<pre class="codehilite"><code>Title                                    Added        Path
--------------------------------------------------------------------------------
My Document Title                        2026-02-01   /Users/you/docs/file.html
Another Note                             2026-01-15   /Users/you/work/note.html
</code></pre>

<h3 id="remove-a-document">Remove a document</h3>
<pre class="codehilite"><code class="language-bash"># Remove by title (case-insensitive, partial match)
add2notes remove &quot;My Document&quot;

# Remove by path (partial match)
add2notes remove &quot;/old/path/&quot;
</code></pre>

<h3 id="regenerate-index">Regenerate index</h3>
<p>If you manually edit <code>notes.json</code>, regenerate the index:</p>
<pre class="codehilite"><code class="language-bash">add2notes regen
</code></pre>

<h2 id="typical-workflow">Typical Workflow</h2>
<pre class="codehilite"><code class="language-bash"># 1. Write your notes in Markdown
vim ~/Documents/project-notes.md

# 2. Convert to HTML
~/tools/make-web ~/Documents/project-notes.md

# 3. Register in your notes index
~/tools/add2notes ~/Documents/project-notes.html

# 4. View your notes index
open ~/notes/index.html
</code></pre>

<h2 id="data-format">Data Format</h2>
<h3 id="notesjson">notes.json</h3>
<pre class="codehilite"><code class="language-json">[
  {
    &quot;title&quot;: &quot;Document Title&quot;,
    &quot;path&quot;: &quot;/absolute/path/to/document.html&quot;,
    &quot;added&quot;: &quot;2026-02-01T13:06:59.585070&quot;
  }
]
</code></pre>

<p>You can manually edit this file if needed. After editing, run <code>add2notes regen</code> to update the index.</p>
<h2 id="how-it-works">How It Works</h2>
<ol>
<li>
<p><strong>Adding a document:</strong>
   - Resolves the file path to an absolute path
   - Parses the HTML to extract the <code>&lt;title&gt;</code> tag (or uses filename as fallback)
   - Checks if already registered (prevents duplicates)
   - Appends entry to <code>notes.json</code>
   - Regenerates <code>index.html</code></p>
</li>
<li>
<p><strong>Index generation:</strong>
   - Reads all entries from <code>notes.json</code>
   - Sorts by date (newest first)
   - Generates HTML table with <code>file://</code> links
   - Uses the same visual styling as <code>make-web</code> output</p>
</li>
<li>
<p><strong>Title extraction:</strong>
   - Uses Python's <code>html.parser</code> to find the <code>&lt;title&gt;</code> tag
   - Falls back to filename (without extension) if no title found</p>
</li>
</ol>
<h2 id="styling">Styling</h2>
<p>The generated <code>index.html</code> matches the visual style of <code>make-web</code>:
- Light/dark mode support (respects system preference)
- Serif typography for readability
- Clean table layout with hover states
- Document count shown at bottom</p>
<h2 id="limitations">Limitations</h2>
<ul>
<li><strong>Local files only:</strong> Uses <code>file://</code> URLs, so links only work on the same machine</li>
<li><strong>No file validation:</strong> Doesn't check if linked files still exist (use <code>list</code> to audit)</li>
<li><strong>Manual cleanup:</strong> If you delete/move an HTML file, you must manually remove it from the registry</li>
</ul>
<h2 id="tips">Tips</h2>
<ul>
<li><strong>Organize by keeping HTML near source:</strong> Store your <code>.html</code> next to the <code>.md</code> source file, then register both locations in notes</li>
<li><strong>Use descriptive titles:</strong> The <code>-t</code> flag lets you override auto-detected titles for better organization</li>
<li><strong>Audit periodically:</strong> Run <code>add2notes list</code> occasionally to check for broken paths</li>
<li><strong>Bookmark the index:</strong> Add <code>~/notes/index.html</code> to your browser bookmarks for quick access</li>
</ul>
<h2 id="dependencies">Dependencies</h2>
<ul>
<li>Python 3.6+ (uses f-strings, pathlib, typing)</li>
<li>No external packages required (uses only standard library)</li>
</ul>
<h2 id="related-tools">Related Tools</h2>
<table>
<thead>
<tr>
<th>Tool</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>make-web</code></td>
<td>Convert Markdown to styled HTML</td>
</tr>
<tr>
<td><code>add2notes</code></td>
<td>Register HTML in central index</td>
</tr>
</tbody>
</table></article>
      </main>
    </div>
  </div>
  
  <script>
    // Theme Toggle Functionality
    (function() {
      const themeBtns = document.querySelectorAll('.theme-btn');
      const html = document.documentElement;
      
      // Check for saved theme preference or default to light
      const savedTheme = localStorage.getItem('theme') || 'light';
      html.setAttribute('data-theme', savedTheme);
      updateThemeButtons(savedTheme);
      
      themeBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          const theme = btn.getAttribute('data-theme');
          html.setAttribute('data-theme', theme);
          localStorage.setItem('theme', theme);
          updateThemeButtons(theme);
        });
      });
      
      function updateThemeButtons(activeTheme) {
        themeBtns.forEach(btn => {
          btn.classList.toggle('active', btn.getAttribute('data-theme') === activeTheme);
        });
      }
      
      // Check system preference on load if no saved preference
      if (!localStorage.getItem('theme')) {
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const theme = prefersDark ? 'dark' : 'light';
        html.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
        updateThemeButtons(theme);
      }
      
      // Listen for system theme changes
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
        if (!localStorage.getItem('theme')) {
          const theme = e.matches ? 'dark' : 'light';
          html.setAttribute('data-theme', theme);
          updateThemeButtons(theme);
        }
      });
    })();
  </script>
</body>
</html>
